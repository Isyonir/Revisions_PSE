# Processus

## Communication inter-processus

Le but est de pouvoir partager des données (ou des commandes) entre les différents processus / threads d'une machine.

Plusieurs méthodes existent avec leurs avantages et inconvénents:

| Méthode                                        | Description                                                                                                                                                                                                                           | Avantages                                                                                      | Inconvénients                                                                                                                                                                                                                                                                        |
|------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Fichier                                        | Les processus lisent et écrivent dans un même fichier                                                                                                                                                                                 | Simple à concevoir (plus complexe à mettre en oeuvre) Relativement peu gourmande en ressources | Il faut faire attention à ce que le fichier ne soit pas modifié/supprimé lorsqu'un processus tente de le lire. L'OS peut ne pas permettre l'accès à un même fichier à plusieurs processus en même temps. Il faut donc attendre que la ressource soit disponible avant de l'utiliser. |
| Signal                                         | Peu utilisé pour transférer des données, sert plutôt à envoyer des commandes (stop, pause) à un autre processus                                                                                                                       |                                                                                                |                                                                                                                                                                                                                                                                                      |
| Socket                                         | Les données sont envoyées à un autre processus sur la même machine ou sur une machine distante via un protocole réseau (TCP ou UDP)                                                                                                   |                                                                                                | Si la communication se fait à travers un réseau, la coupure de ce dernier peut empêcher le fonctionnement des processus                                                                                                                                                              |
| IPC socket(Inter-process communication socket) | Un socket dont la communication ne se passe qu'à travers le noyau Linux et non par le réseau.                                                                                                                                         |                                                                                                |                                                                                                                                                                                                                                                                                      |
| Tube anonyme                                   | La sortie standard d'un processus est branchée à l'entrée standard d'un autre (Ex cat ./fichier \| grep "blip")                                                                                                                       | Très simple à utiliser                                                                         | Pas beaucoup de fonctionnalités possibles                                                                                                                                                                                                                                        |
| Tube nommé                                     | Extension du tube anonyme, cette fois le tube a un nom, et apparaît comme étant un fichier, il n'est pas détruit lorsque le processus qui l'utilise s'arrête, et d'autres processus peuvent se rattacher à lui durant sa durée de vie |                                                                                                | Lent                                                                                                                                                                                                                                                                                 |
| Mémoire partagée                               | Plusieurs processus (ou threads) partagent une plage de mémoire donnée par l'OS, ils peuvent donc s'échanger des données dans cette plage                                                                                             | Exécution très rapide                                                                          | Délicate à utiliser (il faut faire attention que tous les processus qui utilisent cette plage de mémoire ne la manipulent pas de façon inadéquate)                                                                                                                                   |
| Passage de message                             | Le processus A va envoyer un "message" (des données) au processus B. Ce message transite par le noyau ( A -> Noyau -> B )                                                                                                             | Simple à mettre en oeuvre                                                                      | Lent (le passage par le noyau consomme un certain nombre d'instructions)                                                                                                                                                                                                             |

